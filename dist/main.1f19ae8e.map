{"version":3,"sources":["main.js"],"names":["giphy","url","query","api_key","limit","update","$","toggleClass","get","done","res","empty","gify","each","data","i","prepend","images","downsized_large","push","notifyServiceWorker","fail","slideDown","setTimeout","slideUp","always","click","navigator","serviceWorker","register","then","registration","gifys","getRegistration","reg","active","postMessage","action"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA,IAAIA,KAAK,GAAG;AACRC,EAAAA,GAAG,EAAE,wCADG;AAERC,EAAAA,KAAK,EAAE;AACHC,IAAAA,OAAO,EAAE,kCADN;AAEHC,IAAAA,KAAK,EAAE;AAFJ;AAFC,CAAZ,EAQA;;AACA,SAASC,MAAT,GAAkB;AAEd;AACDC,EAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBC,WAAnB,CAA+B,QAA/B,EAHe,CAKd;;AACAD,EAAAA,CAAC,CAACE,GAAF,CAAOR,KAAK,CAACC,GAAb,EAAkBD,KAAK,CAACE,KAAxB,EAEI;AAFJ,GAGKO,IAHL,CAGW,UAAUC,GAAV,EAAe;AAElB;AACAJ,IAAAA,CAAC,CAAC,SAAD,CAAD,CAAaK,KAAb,GAHkB,CAKlB;;AACA,QAAIC,IAAI,GAAG,EAAX,CANkB,CAQlB;;AACAN,IAAAA,CAAC,CAACO,IAAF,CAAQH,GAAG,CAACI,IAAZ,EAAkB,UAAUC,CAAV,EAAaf,KAAb,EAAoB;AAElC;AACAM,MAAAA,CAAC,CAAC,SAAD,CAAD,CAAaU,OAAb,CACI,iDACI,oCADJ,GAC2ChB,KAAK,CAACiB,MAAN,CAAaC,eAAb,CAA6BjB,GADxE,GAC8E,IAD9E,GAEA,QAHJ,EAHkC,CASlC;;AACAW,MAAAA,IAAI,CAACO,IAAL,CAAUnB,KAAK,CAACiB,MAAN,CAAaC,eAAb,CAA6BjB,GAAvC;AACH,KAXD;AAaAmB,IAAAA,mBAAmB,CAACR,IAAD,CAAnB;AACH,GA1BL,EA4BI;AA5BJ,GA6BKS,IA7BL,CA6BU,YAAU;AAEZf,IAAAA,CAAC,CAAC,QAAD,CAAD,CAAYgB,SAAZ;AACAC,IAAAA,UAAU,CAAE,YAAW;AAAEjB,MAAAA,CAAC,CAAC,QAAD,CAAD,CAAYkB,OAAZ;AAAuB,KAAtC,EAAwC,IAAxC,CAAV;AACH,GAjCL,EAmCI;AAnCJ,GAoCKC,MApCL,CAoCY,YAAW;AAEf;AACAnB,IAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBC,WAAnB,CAA+B,QAA/B;AACH,GAxCL,EANc,CAgDd;;AACA,SAAO,KAAP;AACH,EAED;;;AACAD,CAAC,CAAC,WAAD,CAAD,CAAeoB,KAAf,CAAqBrB,MAArB;;AAGA,IAAGsB,SAAS,CAACC,aAAb,EAA4B;AAExB;AACAD,EAAAA,SAAS,CAACC,aAAV,CAAwBC,QAAxB,CAAiC,sCAAjC,EAA2CC,IAA3C,CAAgD,UAACC,YAAD,EAAiB,CAChE,CADD;AAEH;;AAED,SAASX,mBAAT,CAA6BY,KAA7B,EAAoC;AAChC,MAAGL,SAAS,CAACC,aAAb,EAA2B;AACvB;AACAD,IAAAA,SAAS,CAACC,aAAV,CAAwBK,eAAxB,GAA0CH,IAA1C,CAA+C,UAACI,GAAD,EAAQ;AACnD,UAAGA,GAAG,CAACC,MAAP,EAAe;AACXD,QAAAA,GAAG,CAACC,MAAJ,CAAWC,WAAX,CAAuB;AAACC,UAAAA,MAAM,EAAE,WAAT;AAAsBL,UAAAA,KAAK,EAAEA;AAA7B,SAAvB;AACH;AACJ,KAJD;AAMH;AACJ,EAED;;;AACA3B,MAAM","file":"main.1f19ae8e.map","sourceRoot":"..","sourcesContent":["// window.$ = require('jquery')\n// Giphy API object\nvar giphy = {\n    url: 'https://api.giphy.com/v1/gifs/trending',\n    query: {\n        api_key: '54452c59b31e4d14aca213ec76014baa',\n        limit: 12\n    }\n};\n\n// Update trending giphys\nfunction update() {\n\n    // Toggle refresh state\n   $('#update .icon').toggleClass('d-none');\n\n    // Call Giphy API\n    $.get( giphy.url, giphy.query)\n\n        // Success\n        .done( function (res) {\n\n            // Empty Element\n            $('#giphys').empty();\n\n            //Store gify\n            let gify = [];\n\n            // Loop Giphys\n            $.each( res.data, function (i, giphy) {\n\n                // Add Giphy HTML\n                $('#giphys').prepend(\n                    '<div class=\"col-sm-6 col-md-4 col-lg-3 p-1\">' +\n                        '<img class=\"w-100 img-fluid\" src=\"' + giphy.images.downsized_large.url + '\">' +\n                    '</div>'\n                );\n\n                // Push gify urls into array\n                gify.push(giphy.images.downsized_large.url);\n            });\n \n            notifyServiceWorker(gify);\n        })\n\n        // Failure\n        .fail(function(){\n            \n            $('.alert').slideDown();\n            setTimeout( function() { $('.alert').slideUp() }, 2000);\n        })\n\n        // Complete\n        .always(function() {\n\n            // Re-Toggle refresh state\n            $('#update .icon').toggleClass('d-none');\n        });\n\n    // Prevent submission if originates from click\n    return false;\n}\n\n// Manual refresh\n$('#update a').click(update);\n\n\nif(navigator.serviceWorker) {\n\n    //register service worker\n    navigator.serviceWorker.register('/sw.js').then((registration)=> {\n    });\n}\n\nfunction notifyServiceWorker(gifys) {\n    if(navigator.serviceWorker){\n        //Get service worker registration\n        navigator.serviceWorker.getRegistration().then((reg)=> {\n            if(reg.active) {\n                reg.active.postMessage({action: 'clearGify', gifys: gifys})\n            }\n        })\n        \n    }\n}\n\n// Update trending giphys on load\nupdate();\n"]}